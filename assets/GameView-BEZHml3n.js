import{d as J,m as te,r as b,c as y,s as k,o as q,n as Y,p as K,w as W,a as i,b as e,e as h,q as Q,t as s,f as ee,x as I,k as l,g as M,F as G,i as Z,u as oe,j as se,y as re,z as ae}from"./index-DucGjSv2.js";const ne={class:"card relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border border-purple-500/20 shadow-2xl shadow-purple-500/10"},le={class:"relative z-10 flex flex-col md:flex-row items-center space-y-6 md:space-y-0 md:space-x-8 p-6"},ie={class:"flex-shrink-0"},de={key:0,class:"relative group"},ce={key:1,class:"relative group"},ue=["src","alt"],ge={class:"flex-1 text-center md:text-left"},pe={class:"mb-6"},me={class:"text-gray-300 font-medium text-lg bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"},ve={class:"text-sm text-gray-400 mt-2 font-light"},fe={class:"mb-6"},he={key:0,class:"bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-400/30 rounded-2xl p-6 text-center backdrop-blur-sm"},be={class:"flex items-center justify-center mb-3"},ye={class:"text-xl font-bold bg-gradient-to-r from-green-300 to-emerald-300 bg-clip-text text-transparent"},ke={class:"text-green-200 mb-4 font-medium"},xe={class:"bg-green-800/30 rounded-xl p-4 border border-green-500/30"},we={class:"text-green-100 text-sm font-medium mb-2"},$e={class:"text-green-200 text-xs"},_e={key:1,class:"bg-gradient-to-r from-blue-900/50 to-purple-900/50 border border-blue-400/30 rounded-2xl p-6 text-center backdrop-blur-sm"},Pe={class:"flex items-center justify-center mb-3"},Te={class:"text-xl font-bold bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent"},Ce={class:"text-blue-200 mb-3 font-medium"},Se={class:"text-sm text-blue-300 font-semibold"},Me={class:"text-xs text-blue-400 mt-2 opacity-80"},ze={key:2,class:"music-player-controls bg-gradient-to-br from-gray-900/80 to-black/80 rounded-2xl p-6 backdrop-blur-sm border border-gray-700/50 shadow-2xl"},je={class:"flex items-center justify-center space-x-8 mb-6"},Ae=["disabled"],De=["disabled"],Be={class:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center shadow-2xl shadow-purple-500/50 group-hover:from-purple-500 group-hover:to-pink-500 transition-all duration-300 group-hover:scale-110 group-hover:shadow-purple-400/60"},Ie={key:0,class:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"},Re={key:1,class:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20"},Ne={key:2,class:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20"},Fe={key:0,class:"p-6 bg-gradient-to-r from-blue-900/40 to-purple-900/40 border border-blue-400/30 rounded-2xl backdrop-blur-sm"},Le={class:"text-center"},Ee={class:"text-2xl font-bold bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent mb-2"},Ve={class:"text-blue-200 text-lg font-medium mb-1"},Oe={class:"text-blue-300 font-medium"},He={class:"text-sm text-blue-400 mt-4"},Ue=["href"],Ye={key:0,class:"mt-6 p-6 bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-400/30 rounded-2xl backdrop-blur-sm"},Xe={class:"text-center"},qe={class:"flex items-center justify-center mb-3"},Ge={class:"font-bold text-lg bg-gradient-to-r from-purple-300 to-pink-300 bg-clip-text text-transparent"},Ze={class:"text-purple-200 text-sm font-medium"},Je={class:"flex items-center justify-center mb-3"},Ke={key:0,class:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-full flex items-center justify-center mr-3 animate-bounce"},We={key:1,class:"w-12 h-12 bg-gradient-to-br from-red-500 to-pink-500 rounded-full flex items-center justify-center mr-3 animate-pulse"},Qe={class:"font-bold text-2xl"},et={key:0,class:"text-lg mt-2 font-semibold"},tt={class:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"},ot=J({__name:"TrackPlayer",props:{track:{},showAnswer:{type:Boolean,default:!1},showResult:{type:Boolean,default:!1},isCorrect:{type:Boolean,default:!1},pointsEarned:{default:0}},emits:["placeTrack"],setup(E,{emit:R}){const n=E,{t:C}=te(),p=b(!1),f=b(!1);b(!1);const P=b(0),N=b(0);b(.7),b(!1),b(!1),b(!1);const z=y(()=>{var w,_,$,S;const r=(_=(w=n.track.images)==null?void 0:w[0])==null?void 0:_.url,d=(S=($=n.track.album.images)==null?void 0:$[0])==null?void 0:S.url;return r||d||"https://via.placeholder.com/300x300/6B7280/FFFFFF?text=No+Image"}),c=y(()=>n.track.artists.map(r=>r.name).join(", ")),F=y(()=>n.showResult?n.isCorrect?"bg-gradient-to-r from-cyan-900/40 to-blue-900/40 border border-cyan-400/30 text-cyan-100":"bg-gradient-to-r from-red-900/40 to-pink-900/40 border border-red-400/30 text-red-100":""),H=y(()=>n.showResult?n.isCorrect?C("game.turn.correct",{year:n.track.year}):C("game.turn.incorrect",{year:n.track.year}):"");y(()=>N.value===0?0:P.value/N.value*100);const x=y(()=>!!n.track.uri),j=y(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|CriOS/i.test(navigator.userAgent)),T=y(()=>j.value?x.value&&k.isAuthenticated():x.value&&k.isPlayerReady()),A=y(()=>T.value||!!n.track.preview_url);async function O(){try{T.value&&n.track.uri&&(p.value?await k.pausePlayback()&&(p.value=!1):await k.startPlayback(n.track.uri)&&(p.value=!0,j.value?U():L()))}catch(r){console.error("Playback error:",r),j.value&&r.message.includes("No active Spotify device")&&alert("Please open the Spotify app on your device first, then try again.")}}function U(){const r=async()=>{var w;if(!T.value||!j.value)return;const d=await k.getSpotifyConnectState();if(d){const _=((w=d.item)==null?void 0:w.uri)===n.track.uri,$=d.is_playing&&_;p.value!==$&&(p.value=$),p.value&&setTimeout(r,2e3)}else p.value&&(p.value=!1)};r()}function L(){const r=async()=>{if(!T.value)return;const d=await k.getPlaybackState();d&&(p.value=!d.paused,P.value=d.position/1e3,N.value=d.duration/1e3,p.value&&setTimeout(r,1e3))};r()}async function V(){var r,d,w,_;if(k.isPlayerReady())try{const $=await k.getPlaybackState();if($){const S=((d=(r=$.track_window)==null?void 0:r.current_track)==null?void 0:d.uri)===n.track.uri,D=$.paused===!1&&S;console.log("Playback state check:",{paused:$.paused,currentTrackUri:(_=(w=$.track_window)==null?void 0:w.current_track)==null?void 0:_.uri,expectedUri:n.track.uri,isCurrentTrack:S,isActuallyPlaying:D,componentIsPlaying:p.value}),p.value!==D&&(console.log(`🔄 Syncing playback state: ${p.value} → ${D}`),p.value=D)}}catch($){console.warn("Could not check playback state:",$)}}return q(()=>{const r=setInterval(V,2e3);Y(()=>{clearInterval(r)})}),q(()=>{k.isAuthenticated()&&K(()=>{k.initializePlayerIfReady()})}),W(()=>n.track,async(r,d)=>{if(r&&r!==d){console.log("New track detected:",r.name),await K(),p.value=!1;const w=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|CriOS/i.test(navigator.userAgent);setTimeout(async()=>{if(console.log("Checking if auto-playback can start:",{canPlayAudio:A.value,canPlayFullTrack:T.value,hasSpotifyUri:x.value,isPlayerReady:k.isPlayerReady(),isPlaying:p.value}),A.value&&!p.value){console.log("Auto-starting playback for new track:",r.name);try{await O(),console.log("✅ Auto-playback started successfully")}catch(_){w?console.log("🔇 Auto-playback blocked on mobile - user interaction required"):console.error("❌ Auto-playback failed:",_)}}else{const _=A.value?"Already playing":"No audio source available";console.log(`Cannot auto-start playback: ${_}`),!w&&x.value&&console.log("Has Spotify URI - playback will use Spotify Web Playback SDK")}},300)}},{immediate:!1}),Y(()=>{T.value&&k.stopPlayback()}),(r,d)=>(l(),i("div",ne,[d[12]||(d[12]=e("div",{class:"absolute inset-0 opacity-10"},[e("div",{class:"absolute top-0 left-0 w-72 h-72 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full blur-3xl animate-pulse delay-1000"})],-1)),e("div",le,[e("div",ie,[r.showAnswer?(l(),i("div",ce,[e("img",{src:z.value,alt:r.track.name,class:"w-40 h-40 rounded-2xl shadow-2xl object-cover border border-gray-700/50 backdrop-blur-sm transform group-hover:scale-105 transition-transform duration-300"},null,8,ue),d[2]||(d[2]=e("div",{class:"absolute inset-0 w-40 h-40 rounded-2xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 blur-xl group-hover:blur-2xl transition-all duration-300"},null,-1))])):(l(),i("div",de,d[1]||(d[1]=[Q('<div class="w-40 h-40 rounded-2xl shadow-2xl bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center border border-gray-700/50 backdrop-blur-sm" data-v-2548e774><div class="w-32 h-32 rounded-full bg-gradient-to-br from-gray-900 to-black shadow-inner flex items-center justify-center" data-v-2548e774><div class="w-20 h-20 rounded-full bg-gradient-to-br from-gray-800 to-gray-900 shadow-inner flex items-center justify-center" data-v-2548e774><svg class="w-12 h-12 text-gray-400 animate-spin-slow" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-2548e774><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" data-v-2548e774></path></svg></div></div></div><div class="absolute inset-0 w-40 h-40 rounded-2xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 blur-xl group-hover:blur-2xl transition-all duration-300" data-v-2548e774></div>',2)])))]),e("div",ge,[e("div",pe,[e("p",me,s(r.$t("game.turn.listening")),1),e("p",ve,s(r.$t("game.turn.placeOnTimeline")),1)]),e("div",fe,[!A.value&&j.value&&x.value?(l(),i("div",he,[e("div",be,[d[3]||(d[3]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mr-3 shadow-lg"},[e("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})])],-1)),e("h3",ye,s(r.$t("game.spotifyConnect.title","Spotify Connect")),1)]),e("p",ke,s(r.$t("game.spotifyConnect.description","Music will play through your Spotify app")),1),e("div",xe,[e("p",we," 📱 "+s(r.$t("game.spotifyConnect.instructions","Make sure your Spotify app is open on this device")),1),e("p",$e,s(r.$t("game.spotifyConnect.note","Audio will play through your device speakers or headphones")),1)])])):T.value?h("",!0):(l(),i("div",_e,[e("div",Pe,[d[4]||(d[4]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-3 shadow-lg"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})])],-1)),e("h3",Te,s(x.value?r.$t("game.premiumRequired"):r.$t("game.demoMode")),1)]),e("p",Ce,s(x.value?r.$t("game.needsPremium"):r.$t("game.needSpotifyForAudio")),1),e("p",Se,[e("strong",null,s(x.value?r.$t("game.premiumNeededForFullPlay"):r.$t("game.needSpotifyForAudio")),1)]),e("p",Me,s(r.$t("game.demoModeInstructions")),1)])),A.value?(l(),i("div",ze,[e("div",je,[e("button",{onClick:d[0]||(d[0]=(...w)=>r.restartTrack&&r.restartTrack(...w)),class:"control-btn group relative",disabled:!A.value,title:"Restart"},d[5]||(d[5]=[e("div",{class:"w-12 h-12 bg-gradient-to-br from-gray-800 to-gray-900 rounded-full flex items-center justify-center border border-gray-600/50 shadow-lg group-hover:from-purple-600 group-hover:to-pink-600 group-hover:border-purple-400/50 transition-all duration-300 group-hover:scale-110"},[e("svg",{class:"w-5 h-5 text-gray-300 group-hover:text-white transition-colors duration-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})])],-1)]),8,Ae),e("button",{onClick:O,class:"play-btn group relative",disabled:!A.value},[e("div",Be,[f.value?(l(),i("div",Ie)):p.value?(l(),i("svg",Re,d[6]||(d[6]=[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))):(l(),i("svg",Ne,d[7]||(d[7]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"},null,-1)])))])],8,De)])])):h("",!0)]),r.showAnswer?(l(),i("div",Fe,[e("div",Le,[e("h4",Ee,s(r.track.name),1),e("p",Ve,s(c.value),1),e("p",Oe,s(r.track.album.name)+" ("+s(r.track.year)+")",1),e("p",He,[e("a",{href:r.track.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-full hover:from-green-500 hover:to-green-400 transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-green-500/25"},[d[8]||(d[8]=e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})],-1)),ee(" "+s(r.$t("game.openInSpotify")),1)],8,Ue)])])])):h("",!0)])]),r.showAnswer?h("",!0):(l(),i("div",Ye,[e("div",Xe,[e("div",qe,[d[9]||(d[9]=e("div",{class:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-3 animate-pulse"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",Ge,s(r.$t("game.turn.placing")),1)]),e("p",Ze,s(r.$t("game.dragToTimeline")),1)])])),r.showResult?(l(),i("div",{key:1,class:I(["mt-6 p-6 rounded-2xl text-center backdrop-blur-sm",F.value])},[e("div",Je,[r.isCorrect?(l(),i("div",Ke,d[10]||(d[10]=[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):(l(),i("div",We,d[11]||(d[11]=[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))),e("p",Qe,s(H.value),1)]),r.pointsEarned>0?(l(),i("p",et,[e("span",tt,s(r.$t("game.turn.points",{points:r.pointsEarned})),1)])):h("",!0)],2)):h("",!0)]))}}),st=(E,R)=>{const n=E.__vccOpts||E;for(const[C,p]of R)n[C]=p;return n},rt=st(ot,[["__scopeId","data-v-2548e774"]]),at={key:0,class:"absolute inset-0 opacity-10"},nt={class:"relative z-10"},lt={class:"flex items-center justify-between mb-6"},it={class:"text-xl font-bold flex items-center space-x-3"},dt={key:0,class:"text-2xl animate-bounce"},ct={class:"text-right"},ut={class:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"},gt={class:"flex items-center space-x-2 text-sm text-gray-300"},pt={class:"font-medium"},mt={key:0,class:"mb-6"},vt={class:"text-sm font-medium text-gray-300 mb-3"},ft={class:"flex space-x-3"},ht=["title"],bt={class:"flex items-center space-x-2"},yt=["title"],kt={class:"flex items-center space-x-2"},xt={class:"mb-6"},wt={class:"text-lg font-semibold text-gray-200 mb-4 flex items-center"},$t={key:0,class:"text-center py-12 text-gray-400"},_t={class:"text-lg font-medium mb-2"},Pt={class:"p-8 border-2 border-dashed border-gray-500 rounded-2xl group-hover:border-purple-400 transition-colors duration-300 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-sm"},Tt={class:"text-center text-gray-300 font-medium"},Ct={key:1,class:"space-y-3"},St={class:"h-full border-2 border-dashed border-gray-600 rounded-xl group-hover:border-cyan-400 transition-colors duration-300 bg-gradient-to-r from-gray-800/20 to-gray-700/20 backdrop-blur-sm flex items-center justify-center"},Mt={class:"text-center text-gray-400 text-sm font-medium"},zt={class:"p-4 bg-gradient-to-r from-gray-800/60 to-gray-900/60 backdrop-blur-sm border border-gray-600/30 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]"},jt={class:"flex items-center space-x-4"},At={class:"w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 relative group-hover:scale-105 transition-transform duration-300"},Dt=["src","alt"],Bt={key:1,class:"w-16 h-16 bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center"},It={class:"flex-1 min-w-0"},Rt={class:"font-bold text-lg text-gray-100 truncate"},Nt={class:"text-sm text-gray-300 truncate font-medium"},Ft={class:"text-right flex-shrink-0"},Lt={class:"font-bold text-2xl bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent"},Et=["onDragover","onDragleave","onDrop","data-drop-zone"],Vt={class:"h-full border-2 border-dashed border-gray-600 rounded-xl group-hover:border-purple-400 transition-colors duration-300 bg-gradient-to-r from-gray-800/20 to-gray-700/20 backdrop-blur-sm flex items-center justify-center"},Ot={class:"text-center text-gray-400 text-sm font-medium"},Ht=["data-drop-zone"],Ut={class:"h-full border-2 border-dashed border-gray-600 rounded-xl group-hover:border-cyan-400 transition-colors duration-300 bg-gradient-to-r from-gray-800/20 to-gray-700/20 backdrop-blur-sm flex items-center justify-center"},Yt={class:"text-center text-gray-400 text-sm font-medium"},Xt={class:"flex items-center space-x-4"},qt={class:"flex-1 min-w-0"},Gt={class:"font-bold text-lg text-blue-200"},Zt={class:"text-sm text-blue-300 font-medium"},Jt={key:2,class:"mt-6 pt-6 border-t border-gray-600/30"},Kt={class:"flex justify-between text-sm text-gray-300"},Wt={class:"font-medium"},Qt={key:0,class:"font-mono"},eo=J({__name:"PlayerTimeline",props:{player:{},isCurrent:{type:Boolean},currentTrack:{},canPlace:{type:Boolean}},emits:["placeTrack","useToken"],setup(E,{emit:R}){const n=E,C=R,p=b(!1),f=b([]),P=b(!1),N=b({x:0,y:0}),z=b({x:0,y:0}),c=b(null),F=b({x:0,y:0}),H=b(null);let x=null;const j=y(()=>{if(n.player.timeline.length<2)return null;const t=n.player.timeline.map(o=>o.year).sort((o,u)=>o-u);return`${t[0]} - ${t[t.length-1]}`});function T(t){var o,u,v,m;return((u=(o=t.images)==null?void 0:o[0])==null?void 0:u.url)||((m=(v=t.album.images)==null?void 0:v[0])==null?void 0:m.url)||"/placeholder-album.png"}function A(t){return t.artists.map(o=>o.name).join(", ")}function O(t){var u;if(!n.currentTrack)return;(u=t.dataTransfer)==null||u.setData("text/plain",JSON.stringify(n.currentTrack)),t.target.classList.add("dragging")}function U(t){t.target.classList.remove("dragging"),p.value=!1,f.value=[]}function L(t){!n.currentTrack||!n.canPlace||(p.value=!1,f.value=[],C("placeTrack",n.currentTrack,t))}function V(t){C("useToken",t)}function r(t){if(!(!n.currentTrack||!n.canPlace))try{t.preventDefault(),P.value=!0;const o=t.touches[0];if(!o)return;N.value={x:o.clientX,y:o.clientY},z.value={x:o.clientX,y:o.clientY};const u=t.target,v=u.getBoundingClientRect();c.value=u.cloneNode(!0),c.value.style.position="fixed",c.value.style.top=`${v.top}px`,c.value.style.left=`${v.left}px`,c.value.style.width=`${v.width}px`,c.value.style.height=`${v.height}px`,c.value.style.zIndex="9999",c.value.style.opacity="0.8",c.value.style.transform="rotate(2deg)",c.value.style.pointerEvents="none",c.value.classList.add("dragging"),document.body.appendChild(c.value),u.classList.add("dragging"),"vibrate"in navigator&&navigator.vibrate(50)}catch(o){console.warn("Touch start error:",o),g()}}function d(t){if(!P.value)return;t.preventDefault();const o=t.touches[0];S(o.clientY),F.value={x:o.clientX,y:o.clientY};const u=50,v=50;c.value&&(c.value.style.left=`${o.clientX-u}px`,c.value.style.top=`${o.clientY-v}px`);const m=document.elementFromPoint(o.clientX,o.clientY),B=m==null?void 0:m.closest("[data-drop-zone]");if(p.value=!1,f.value.fill(!1),B){const X=parseInt(B.getAttribute("data-drop-zone")||"0");X===0?p.value=!0:X<=f.value.length&&(f.value[X]=!0)}}function w(t){if(D(),!!P.value)try{t.preventDefault(),P.value=!1;const o=t.changedTouches[0];if(!o){g();return}const u=document.elementFromPoint(o.clientX,o.clientY),v=u==null?void 0:u.closest("[data-drop-zone]");c.value&&(c.value.style.transition="opacity 0.2s ease-out",c.value.style.opacity="0",setTimeout(()=>{c.value&&document.body.contains(c.value)&&document.body.removeChild(c.value),c.value=null},200));const m=document.querySelector(".dragging");if(m&&m.classList.remove("dragging"),p.value=!1,f.value.fill(!1),v&&n.currentTrack){const B=parseInt(v.getAttribute("data-drop-zone")||"0");"vibrate"in navigator&&navigator.vibrate(100),C("placeTrack",n.currentTrack,B)}}catch(o){console.warn("Touch end error:",o),g()}}function _(t){P.value&&(S(t.clientY),F.value={x:t.clientX,y:t.clientY})}function $(){D(),c.value&&(c.value.style.transition="opacity 0.2s ease-out",c.value.style.opacity="0",setTimeout(()=>{c.value&&document.body.contains(c.value)&&document.body.removeChild(c.value),c.value=null},200));const t=document.querySelector(".dragging");t&&t.classList.remove("dragging"),p.value=!1,f.value.fill(!1)}function S(t){x||(x=setInterval(()=>{const o=window.innerHeight,u=100,v=5;t<u?window.scrollBy(0,-v):t>o-u&&window.scrollBy(0,v)},16))}function D(){x&&(clearInterval(x),x=null)}function a(){f.value=new Array(n.player.timeline.length+1).fill(!1)}function g(){P.value=!1,p.value=!1,f.value.fill(!1),c.value&&document.body.contains(c.value)&&(document.body.removeChild(c.value),c.value=null),document.querySelectorAll(".dragging").forEach(o=>o.classList.remove("dragging"))}return Y(()=>{D(),g()}),W(()=>n.player.timeline.length,()=>{a()},{immediate:!0}),(t,o)=>(l(),i("div",{class:I(["card relative overflow-hidden",{"ring-2 ring-cyan-400 shadow-2xl shadow-cyan-400/20":t.isCurrent}])},[t.isCurrent?(l(),i("div",at,o[11]||(o[11]=[e("div",{class:"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full blur-3xl animate-pulse"},null,-1),e("div",{class:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full blur-3xl animate-pulse delay-1000"},null,-1)]))):h("",!0),e("div",nt,[e("div",lt,[e("h3",it,[e("span",{class:I(t.isCurrent?"bg-gradient-to-r from-cyan-300 to-blue-300 bg-clip-text text-transparent":"text-gray-200")},s(t.player.name),3),t.isCurrent?(l(),i("span",dt,"👑")):h("",!0)]),e("div",ct,[e("p",ut,s(t.player.score),1),e("div",gt,[o[12]||(o[12]=e("span",{class:"text-lg"},"🎵",-1)),e("span",pt,s(t.$t("game.score.tokens",{count:t.player.tokens})),1)])])]),t.isCurrent&&t.canPlace&&t.player.tokens>0?(l(),i("div",mt,[e("h4",vt,s(t.$t("game.tokenAbilities")),1),e("div",ft,[e("button",{onClick:o[0]||(o[0]=u=>V("skip")),class:"group relative px-4 py-2 bg-gradient-to-r from-orange-600 to-pink-600 hover:from-orange-500 hover:to-pink-500 text-white rounded-xl font-medium transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-orange-500/25",title:t.$t("game.tokens.skip.description")},[e("div",bt,[o[13]||(o[13]=e("span",{class:"text-lg"},"⏭️",-1)),e("span",null,s(t.$t("game.tokens.skip.label")),1)])],8,ht),e("button",{onClick:o[1]||(o[1]=u=>V("hint")),class:"group relative px-4 py-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white rounded-xl font-medium transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-cyan-500/25",title:t.$t("game.tokens.hint.description")},[e("div",kt,[o[14]||(o[14]=e("span",{class:"text-lg"},"💡",-1)),e("span",null,s(t.$t("game.tokens.hint.label")),1)])],8,yt)])])):h("",!0),e("div",xt,[e("h4",wt,[o[15]||(o[15]=e("span",{class:"mr-2"},"🎵",-1)),ee(" "+s(t.$t("game.timeline.title")),1)]),t.player.timeline.length===0?(l(),i("div",$t,[o[16]||(o[16]=e("div",{class:"mb-4"},[e("div",{class:"w-20 h-20 mx-auto bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center shadow-lg"},[e("span",{class:"text-3xl"},"🎼")])],-1)),e("p",_t,s(t.$t("game.timeline.empty")),1),t.canPlace?(l(),i("div",{key:0,class:I(["timeline-slot mt-6 group",{"drag-over":p.value}]),onDragover:o[2]||(o[2]=M(u=>p.value=!0,["prevent"])),onDragleave:o[3]||(o[3]=M(u=>p.value=!1,["prevent"])),onDrop:o[4]||(o[4]=M(u=>L(0),["prevent"])),"data-drop-zone":0},[e("div",Pt,[e("p",Tt,s(t.$t("game.timeline.placeHere")),1)])],34)):h("",!0)])):(l(),i("div",Ct,[t.canPlace?(l(),i("div",{key:0,class:I(["timeline-slot h-20 group",{"drag-over":f.value[0]}]),onDragover:o[5]||(o[5]=M(u=>f.value[0]=!0,["prevent"])),onDragleave:o[6]||(o[6]=M(u=>f.value[0]=!1,["prevent"])),onDrop:o[7]||(o[7]=M(u=>L(0),["prevent"])),"data-drop-zone":0},[e("div",St,[e("p",Mt,s(t.$t("game.placeEarlier")),1)])],34)):h("",!0),(l(!0),i(G,null,Z(t.player.timeline,(u,v)=>(l(),i("div",{key:u.id,class:"track-card group relative"},[e("div",zt,[e("div",jt,[e("div",At,[u.revealed?(l(),i("img",{key:0,src:T(u),alt:u.name,class:"w-16 h-16 object-cover"},null,8,Dt)):(l(),i("div",Bt,o[17]||(o[17]=[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1)])))]),e("div",It,[e("p",Rt,s(u.name),1),e("p",Nt,s(A(u)),1)]),e("div",Ft,[e("p",Lt,s(u.year),1)])])]),t.canPlace&&v<t.player.timeline.length-1?(l(),i("div",{key:0,class:I(["timeline-slot h-20 mt-3 group",{"drag-over":f.value[v+1]}]),onDragover:M(m=>f.value[v+1]=!0,["prevent"]),onDragleave:M(m=>f.value[v+1]=!1,["prevent"]),onDrop:M(m=>L(v+1),["prevent"]),"data-drop-zone":v+1},[e("div",Vt,[e("p",Ot,s(t.$t("game.placeBetween")),1)])],42,Et)):h("",!0)]))),128)),t.canPlace?(l(),i("div",{key:1,class:I(["timeline-slot h-20 group",{"drag-over":f.value[t.player.timeline.length]}]),onDragover:o[8]||(o[8]=M(u=>f.value[t.player.timeline.length]=!0,["prevent"])),onDragleave:o[9]||(o[9]=M(u=>f.value[t.player.timeline.length]=!1,["prevent"])),onDrop:o[10]||(o[10]=M(u=>L(t.player.timeline.length),["prevent"])),"data-drop-zone":t.player.timeline.length},[e("div",Ut,[e("p",Yt,s(t.$t("game.placeLater")),1)])],42,Ht)):h("",!0)]))]),t.canPlace&&t.currentTrack?(l(),i("div",{key:1,ref_key:"scrollContainer",ref:H,class:"timeline-container p-6 bg-gradient-to-r from-blue-900/50 to-purple-900/50 border-2 border-blue-400/30 rounded-2xl cursor-move touch-manipulation select-none backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",draggable:"true",onDragstart:O,onDragend:U,onTouchstart:r,onTouchmove:d,onTouchend:w,onMousemove:_,onMouseup:$,style:{touchAction:"none"}},[e("div",Xt,[o[18]||(o[18]=e("div",{class:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})])],-1)),e("div",qt,[e("p",Gt,s(t.$t("game.newTrack")),1),e("p",Zt,s(t.$t("game.dragToPlace")),1)]),o[19]||(o[19]=e("div",{class:"text-blue-300"},[e("span",{class:"text-3xl animate-pulse"},"🎵")],-1))])],544)):h("",!0),t.player.timeline.length>0?(l(),i("div",Jt,[e("div",Kt,[e("span",Wt,s(t.$t("game.tracksInTimeline",{count:t.player.timeline.length})),1),j.value?(l(),i("span",Qt,s(j.value),1)):h("",!0)])])):h("",!0)])],2))}}),to={class:"min-h-screen flex flex-col"},oo={class:"bg-white/10 backdrop-blur-sm p-4"},so={class:"flex justify-between items-center"},ro={class:"flex items-center space-x-4"},ao={class:"text-white"},no={class:"text-xl font-bold"},lo={class:"flex items-center space-x-3 text-sm opacity-80"},io={key:0,class:"px-2 py-1 bg-purple-500/30 rounded-full border border-purple-400/50 text-purple-200 font-medium"},co={key:1,class:"px-2 py-1 bg-gray-500/30 rounded-full border border-gray-400/50 text-gray-200 font-medium"},uo={class:"text-white text-right"},go={class:"text-sm opacity-80"},po={class:"flex-1 container mx-auto px-4 py-6"},mo={key:0,class:"max-w-2xl mx-auto"},vo={class:"card text-center"},fo={class:"text-2xl font-semibold mb-4"},ho={class:"text-gray-600 mb-6"},bo={key:1,class:"space-y-6"},yo={class:"card text-center bg-green-50 border-green-200"},ko={class:"text-2xl font-bold text-white mb-2"},xo={class:"text-white"},wo={key:0,class:"mt-4"},$o={key:1,class:"mt-4"},_o={class:"flex items-center justify-center space-x-2"},Po={key:0,class:"card bg-yellow-50 border-yellow-200"},To={class:"flex items-center space-x-3"},Co={class:"flex-1"},So={class:"text-lg font-semibold text-yellow-800"},Mo={class:"text-yellow-700 text-sm"},zo={class:"flex space-x-2"},jo={key:1,class:"card bg-orange-50 border-orange-200"},Ao={key:3,class:"max-w-4xl mx-auto"},Do={class:"card"},Bo={class:"text-lg font-semibold mb-4"},Io={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ro={class:"font-semibold text-gray-800"},No={class:"text-2xl font-bold text-gray-900"},Fo={class:"text-sm text-gray-600"},Lo={class:"text-xs text-gray-500"},Eo={key:2,class:"max-w-2xl mx-auto"},Vo={class:"card text-center"},Oo={class:"text-3xl font-bold mb-4 text-white"},Ho={class:"text-xl mb-6"},Uo={class:"mb-6"},Yo={class:"text-lg font-semibold mb-3"},Xo={class:"space-y-2"},qo={class:"font-medium"},Go={class:"font-bold"},Zo={class:"flex space-x-4 justify-center"},Jo={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Ko={class:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border border-purple-500/20 shadow-2xl shadow-purple-500/10 rounded-2xl p-8 max-w-md w-full mx-auto relative overflow-hidden"},Wo={class:"relative z-10"},Qo={class:"flex items-center space-x-3 mb-6"},es={class:"text-2xl font-bold bg-gradient-to-r from-cyan-300 to-blue-300 bg-clip-text text-transparent"},ts={class:"mb-8"},os={class:"text-gray-200 text-lg leading-relaxed"},ss={class:"flex justify-center"},as=J({__name:"GameView",setup(E){const R=se(),n=oe(),C=b(!1),p=b(!1),f=b(""),P=b(k.isAuthenticated()),N=y(()=>n.players),z=y(()=>n.currentPlayer),c=y(()=>n.currentTrack),F=y(()=>n.gamePhase),H=y(()=>n.round),x=y(()=>n.settings),j=y(()=>n.winner),T=y(()=>P.value),A=y(()=>T.value?!k.isPlayerReady()&&U.value>3e4:!1),O=b(Date.now()),U=y(()=>Date.now()-O.value),L=y(()=>[...N.value].sort((a,g)=>g.timeline.length!==a.timeline.length?g.timeline.length-a.timeline.length:g.tokens!==a.tokens?g.tokens-a.tokens:g.score-a.score));async function V(){var a;C.value=!0;try{console.log("Loading next track...");const g=await n.getNextTrack();g?console.log("Track loaded successfully:",g.name,"by",(a=g.artists[0])==null?void 0:a.name):console.error("No tracks available")}catch(g){console.error("Error loading track:",g)}finally{C.value=!1}}function r(a,g){n.placeTrackOnTimeline(a,g),setTimeout(()=>{n.nextPlayer()},2e3)}function d(a){var t;if(!z.value)return;if(n.useToken(z.value.id,a))switch(a){case"skip":V();break;case"hint":const o=Math.floor(((t=c.value)==null?void 0:t.year)/10)*10;f.value=`This track was released in the ${o}s`,p.value=!0;break}}function w(){p.value=!1,f.value=""}function _(){n.resetGame(),R.push("/")}function $(){R.push("/")}function S(){const a=k.isAuthenticated();console.log("Spotify auth check in GameView:",{isAuthenticated:a,previousState:T.value}),P.value!==a&&(P.value=a,console.log("Spotify auth state updated:",a)),a&&!k.isPlayerReady()&&(console.log("Initializing player after auth check"),k.initializePlayerIfReady())}async function D(){console.log("🔄 Re-authorizing Spotify with updated permissions"),await k.forceReauth(),S()}return q(()=>{n.gamePhase==="setup"&&n.players.length===0&&R.push("/"),S();const a=setInterval(()=>{P.value||S()},12e4);Y(()=>{clearInterval(a)})}),(a,g)=>{var t,o,u,v;return l(),i("div",to,[e("header",oo,[e("div",so,[e("div",ro,[e("button",{onClick:g[0]||(g[0]=m=>a.$router.push("/")),class:"btn btn-secondary"}," ← "+s(a.$t("common.back")),1),e("div",ao,[e("h1",no,s(a.$t("game.title")),1),e("div",lo,[e("span",null,s(a.$t("game.round"))+" "+s(H.value),1),x.value.theme?(l(),i("span",io," 🎵 "+s(a.$t(`game.themes.${x.value.theme}`)),1)):(l(),i("span",co," 🎵 "+s(a.$t("game.allMusic")),1))])])]),e("div",uo,[e("p",go,s(a.$t("game.turn.currentPlayer",{player:(t=z.value)==null?void 0:t.name})),1)])])]),e("main",po,[F.value==="setup"?(l(),i("div",mo,[e("div",vo,[e("h2",fo,s(a.$t("game.setupRequired")),1),e("p",ho,s(a.$t("game.setupMessage")),1),e("button",{onClick:g[1]||(g[1]=m=>a.$router.push("/")),class:"btn btn-primary"},s(a.$t("game.backToSetup")),1)])])):F.value==="playing"?(l(),i("div",bo,[e("div",yo,[e("h2",ko,s(a.$t("game.turn.currentPlayer",{player:(o=z.value)==null?void 0:o.name})),1),e("p",xo,s(a.$t("game.turn.ready")),1),!c.value&&!C.value?(l(),i("div",wo,[e("button",{onClick:V,class:"btn btn-primary btn-lg"}," 🎵 "+s(a.$t("game.getTrack")),1)])):h("",!0),C.value?(l(),i("div",$o,[e("div",_o,[g[3]||(g[3]=e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-500"},null,-1)),e("span",null,s(a.$t("common.loading")),1)])])):h("",!0)]),T.value?T.value&&A.value?(l(),i("div",jo,[e("div",{class:"flex items-center space-x-3"},[g[5]||(g[5]=Q('<div class="flex-shrink-0"><svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"></path></svg></div><div class="flex-1"><h3 class="text-lg font-semibold text-orange-800">Playback Permissions Needed</h3><p class="text-orange-700 text-sm">Your Spotify connection needs updated permissions to play music.</p></div>',2)),e("div",{class:"flex space-x-2"},[e("button",{onClick:D,class:"btn btn-sm bg-orange-600 hover:bg-orange-700 text-white"}," 🔐 Update Permissions ")])])])):h("",!0):(l(),i("div",Po,[e("div",To,[g[4]||(g[4]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 18.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",Co,[e("h3",So,s(a.$t("game.spotify.notConnected")),1),e("p",Mo,s(a.$t("game.demoModeActive")),1)]),e("div",zo,[e("button",{onClick:$,class:"btn btn-sm bg-yellow-600 hover:bg-yellow-700 text-white"},s(a.$t("game.spotify.login")),1),e("button",{onClick:D,class:"btn btn-sm bg-purple-600 hover:bg-purple-700 text-white"}," 🔐 Re-auth "),e("button",{onClick:S,class:"btn btn-sm bg-blue-600 hover:bg-blue-700 text-white"}," 🔄 Refresh ")])])])),c.value?(l(),re(rt,{key:2,track:c.value,onPlaceTrack:r},null,8,["track"])):h("",!0),z.value?(l(),i("div",Ao,[ae(eo,{player:z.value,"is-current":!0,"current-track":c.value,"can-place":!!c.value,onPlaceTrack:r,onUseToken:d},null,8,["player","current-track","can-place"])])):h("",!0),e("div",Do,[e("h3",Bo,s(a.$t("game.score.title")),1),e("div",Io,[(l(!0),i(G,null,Z(N.value,m=>{var B;return l(),i("div",{key:m.id,class:I(["text-center p-3 rounded-lg",m.id===((B=z.value)==null?void 0:B.id)?"bg-green-100 border-2 border-green-300":"bg-gray-50"])},[e("p",Ro,s(m.name),1),e("p",No,s(m.tokens),1),e("p",Fo,s(a.$t("game.score.tokens",{count:m.tokens})),1),e("p",Lo,s(a.$t("game.score.total",{score:m.score})),1)],2)}),128))])])])):F.value==="finished"?(l(),i("div",Eo,[e("div",Vo,[e("h2",Oo,s(a.$t("game.end.title")),1),e("p",Ho,s(a.$t("game.end.winner",{player:(u=j.value)==null?void 0:u.name,score:(v=j.value)==null?void 0:v.timeline.length})),1),e("div",Uo,[e("h3",Yo,s(a.$t("game.end.finalScores")),1),e("div",Xo,[(l(!0),i(G,null,Z(L.value,(m,B)=>(l(),i("div",{key:m.id,class:I(["flex justify-between items-center p-3 rounded-lg",B===0?"bg-yellow-100":"bg-gray-50"])},[e("span",qo,s(B+1)+". "+s(m.name),1),e("span",Go,s(m.timeline.length)+" "+s(a.$t("game.songs"))+" | "+s(m.tokens)+" "+s(a.$t("game.score.tokens",{count:m.tokens})),1)],2))),128))])]),e("div",Zo,[e("button",{onClick:_,class:"btn btn-primary"}," 🔄 "+s(a.$t("game.end.playAgain")),1),e("button",{onClick:g[2]||(g[2]=m=>a.$router.push("/")),class:"btn btn-secondary"}," 🏠 "+s(a.$t("game.backToHome")),1)])])])):h("",!0)]),p.value?(l(),i("div",Jo,[e("div",Ko,[g[7]||(g[7]=e("div",{class:"absolute inset-0 opacity-10"},[e("div",{class:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full blur-3xl animate-pulse delay-1000"})],-1)),e("div",Wo,[e("div",Qo,[g[6]||(g[6]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg"},[e("span",{class:"text-2xl"},"💡")],-1)),e("h3",es,s(a.$t("game.tokens.hint.label")),1)]),e("div",ts,[e("p",os,s(f.value),1)]),e("div",ss,[e("button",{onClick:w,class:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold rounded-xl transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-purple-500/25"},s(a.$t("common.close")),1)])])])])):h("",!0)])}}});export{as as default};
