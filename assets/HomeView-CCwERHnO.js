import{d as M,u as q,r as m,c as p,o as R,s as w,w as x,a as l,b as g,e,t as s,f as k,g as U,h as v,v as b,F as A,i as L,j as T,k as n,l as B}from"./index-C--OsKSC.js";const I={class:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 text-white p-8"},P={key:0,class:"mb-8 p-6 bg-gradient-to-r from-purple-900/40 to-pink-900/40 border border-purple-500/30 rounded-2xl backdrop-blur-sm"},D={class:"flex items-center space-x-4 mb-4"},E={class:"font-bold text-xl text-green-100"},F={class:"text-green-200 font-medium"},J=["disabled"],O={key:0,class:"flex items-center justify-center"},z={key:1,class:"flex items-center justify-center"},H={class:"p-4 flex justify-between items-center"},K={class:"flex items-center space-x-2"},Q={class:"text-3xl font-bold text-white"},W={class:"text-white/80 text-sm"},X={class:"flex-1 container mx-auto px-4 py-8"},Y={class:"max-w-2xl mx-auto"},Z={key:0,class:"card mb-6 bounce-in"},ee={class:"text-2xl font-bold mb-4 text-white"},te={class:"flex justify-between items-center"},se={class:"text-slate-300 font-medium"},oe={class:"text-slate-300 font-medium"},ae={class:"card"},le={class:"text-3xl font-bold mb-8 text-white bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"},ne={key:0,class:"mb-8 p-6 bg-gradient-to-r from-green-900/40 to-emerald-900/40 border border-green-500/30 rounded-2xl backdrop-blur-sm"},ie={class:"flex items-center space-x-4 mb-4"},re={class:"font-bold text-xl text-green-100"},de={class:"text-green-200 font-medium"},ue=["disabled"],me={key:0,class:"flex items-center justify-center"},ce={key:1,class:"flex items-center justify-center"},pe={class:"block text-sm font-bold text-slate-200 mb-3"},ge={class:"block text-sm font-bold text-slate-200 mb-3"},ve={class:"space-y-3"},he=["onUpdate:modelValue","placeholder"],fe={class:"block text-sm font-bold text-slate-200 mb-3"},be={value:"5"},ye={value:"6"},_e={value:"7"},$e={value:"8"},we={value:"9"},xe={value:"10"},ke={class:"block text-sm font-bold text-slate-200 mb-3"},Se={value:""},je={value:"guilty-pleasures"},Ne={value:"belgian"},Ce={value:"classics"},Ve={value:"popular"},Ge={value:"vlaams"},Me={value:"pop-rock"},qe=["disabled"],Ae=M({__name:"HomeView",setup(Re){const y=T(),d=q(),i=m(2),r=m(["","","",""]),h=m(10),f=m(""),u=m(!1),c=m(!1),S=p(()=>d.players.length>0&&d.gamePhase!=="setup"),j=p(()=>d.players.map(t=>t.name)),N=p(()=>d.round),_=p(()=>{var t;if(!c.value)return!1;for(let o=0;o<i.value;o++)if(!((t=r.value[o])!=null&&t.trim()))return!1;return!0});async function $(){u.value=!0;try{await w.initiateLogin()}catch(t){console.error("Login failed:",t)}finally{u.value=!1}}function C(){if(!_.value)return;const t=r.value.slice(0,i.value).map(o=>o.trim());d.updateSettings({targetSongs:h.value,theme:f.value||void 0,maxRounds:20,targetScore:10}),d.initializePlayers(t),y.push("/game")}function V(){y.push("/game")}return R(()=>{c.value=w.isAuthenticated();const t=localStorage.getItem("hitster-player-names");if(t)try{const o=JSON.parse(t);Array.isArray(o)&&(r.value=[...o,"","","",""].slice(0,4),i.value=Math.max(2,Math.min(4,o.length)))}catch(o){console.error("Error loading saved player names:",o)}}),x(i,t=>{const o=[...r.value];for(;o.length<4;)o.push("");r.value=o},{immediate:!0}),x([r,i],()=>{const t=r.value.slice(0,i.value).filter(o=>o.trim());t.length>0&&localStorage.setItem("hitster-player-names",JSON.stringify(t))},{deep:!0}),(t,o)=>(n(),l("div",I,[c.value?g("",!0):(n(),l("div",P,[e("div",D,[o[4]||(o[4]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center"},[e("span",{class:"text-2xl"},"🎵")],-1)),e("div",null,[e("h3",E,s(t.$t("game.spotify.required")),1),e("p",F,s(t.$t("game.spotify.loginRequired")),1)])]),e("button",{onClick:$,disabled:u.value,class:"btn bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white w-full font-bold text-lg py-4 shadow-lg hover:shadow-green-500/25"},[u.value?(n(),l("span",O,[o[5]||(o[5]=e("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"},null,-1)),k(" "+s(t.$t("common.loading")),1)])):(n(),l("span",z," 🎵 "+s(t.$t("game.spotify.login")),1))],8,J)])),e("header",H,[e("div",K,[e("h1",Q,s(t.$t("game.title")),1),e("span",W,s(t.$t("game.subtitle")),1)]),e("button",{onClick:o[0]||(o[0]=a=>t.$router.push("/settings")),class:"btn btn-secondary"}," ⚙️ "+s(t.$t("settings.language")),1)]),e("main",X,[e("div",Y,[S.value?(n(),l("div",Z,[e("h2",ee,s(t.$t("game.continue")),1),e("div",te,[e("div",null,[e("p",se,s(t.$t("game.players"))+": "+s(j.value.join(", ")),1),e("p",oe,s(t.$t("game.round"))+": "+s(N.value),1)]),e("button",{onClick:V,class:"btn btn-primary"},s(t.$t("common.continue")),1)])])):g("",!0),e("div",ae,[e("h2",le,s(t.$t("game.newGame")),1),c.value?g("",!0):(n(),l("div",ne,[e("div",ie,[o[6]||(o[6]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center"},[e("span",{class:"text-2xl"},"🎵")],-1)),e("div",null,[e("h3",re,s(t.$t("game.spotify.required")),1),e("p",de,s(t.$t("game.spotify.loginRequired")),1)])]),e("button",{onClick:$,disabled:u.value,class:"btn bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white w-full font-bold text-lg py-4 shadow-lg hover:shadow-green-500/25"},[u.value?(n(),l("span",me,[o[7]||(o[7]=e("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"},null,-1)),k(" "+s(t.$t("common.loading")),1)])):(n(),l("span",ce," 🎵 "+s(t.$t("game.spotify.login")),1))],8,ue)])),c.value?(n(),l("form",{key:1,onSubmit:U(C,["prevent"]),class:"space-y-6"},[e("div",null,[e("label",pe,s(t.$t("game.playerCount")),1),v(e("select",{"onUpdate:modelValue":o[1]||(o[1]=a=>i.value=a),class:"select"},o[8]||(o[8]=[e("option",{value:2},"2",-1),e("option",{value:3},"3",-1),e("option",{value:4},"4",-1)]),512),[[b,i.value,void 0,{number:!0}]])]),e("div",null,[e("label",ge,s(t.$t("game.playerNames")),1),e("div",ve,[(n(!0),l(A,null,L(i.value,a=>v((n(),l("input",{key:`player-${a}`,"onUpdate:modelValue":G=>r.value[a-1]=G,placeholder:t.$t("game.playerName",{number:a}),class:"input",required:"",maxlength:"20"},null,8,he)),[[B,r.value[a-1]]])),128))])]),e("div",null,[e("label",fe,s(t.$t("game.targetSongs")),1),v(e("select",{"onUpdate:modelValue":o[2]||(o[2]=a=>h.value=a),class:"select"},[e("option",be,"5 "+s(t.$t("game.songs")),1),e("option",ye,"6 "+s(t.$t("game.songs")),1),e("option",_e,"7 "+s(t.$t("game.songs")),1),e("option",$e,"8 "+s(t.$t("game.songs")),1),e("option",we,"9 "+s(t.$t("game.songs")),1),e("option",xe,"10 "+s(t.$t("game.songs"))+" ("+s(t.$t("game.default"))+")",1)],512),[[b,h.value]])]),e("div",null,[e("label",ke,s(t.$t("game.theme")),1),v(e("select",{"onUpdate:modelValue":o[3]||(o[3]=a=>f.value=a),class:"select"},[e("option",Se,s(t.$t("game.allMusic")),1),e("option",je,s(t.$t("game.themes.guilty-pleasures")),1),e("option",Ne,s(t.$t("game.themes.belgian")),1),e("option",Ce,s(t.$t("game.themes.classics")),1),e("option",Ve,s(t.$t("game.themes.popular")),1),e("option",Ge,s(t.$t("game.themes.vlaams")),1),e("option",Me,s(t.$t("game.themes.pop-rock")),1)],512),[[b,f.value]])]),e("button",{type:"submit",disabled:!_.value,class:"btn btn-primary btn-lg w-full"}," 🎮 "+s(t.$t("common.start")),9,qe)],32)):g("",!0)])])])]))}});export{Ae as default};
