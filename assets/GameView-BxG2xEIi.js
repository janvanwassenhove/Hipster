import{d as H,m as Z,r as h,c as f,s as y,o as V,n as O,p as X,w as K,a as d,b as e,e as p,q as J,t as r,f as W,x as M,k as c,g as T,F as Y,i as G,u as Q,j as ee,y as te,z as oe}from"./index-DbnsnrPs.js";const se={class:"card relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border border-purple-500/20 shadow-2xl shadow-purple-500/10"},re={class:"relative z-10 flex flex-col md:flex-row items-center space-y-6 md:space-y-0 md:space-x-8 p-6"},ae={class:"flex-shrink-0"},ne={key:0,class:"relative group"},le={key:1,class:"relative group"},ie=["src","alt"],ce={class:"flex-1 text-center md:text-left"},de={class:"mb-6"},ue={class:"text-gray-300 font-medium text-lg bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"},ge={class:"text-sm text-gray-400 mt-2 font-light"},pe={class:"mb-4"},me={key:0,class:"bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-400/30 rounded-xl p-4 text-center backdrop-blur-sm"},ve={class:"flex items-center justify-center mb-2"},fe={class:"text-lg font-bold bg-gradient-to-r from-green-300 to-emerald-300 bg-clip-text text-transparent"},he={class:"text-green-200 mb-3 text-sm font-medium"},be={class:"bg-green-800/30 rounded-lg p-3 border border-green-500/30"},ye={class:"text-green-100 text-xs font-medium mb-1"},ke={class:"text-green-200 text-xs"},xe={key:1,class:"bg-gradient-to-r from-blue-900/50 to-purple-900/50 border border-blue-400/30 rounded-xl p-4 text-center backdrop-blur-sm"},we={class:"flex items-center justify-center mb-2"},$e={class:"text-lg font-bold bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent"},_e={class:"text-blue-200 mb-2 text-sm font-medium"},Pe={class:"text-xs text-blue-300 font-semibold"},Ce={class:"text-xs text-blue-400 mt-1 opacity-80"},Te={key:2,class:"music-player-controls bg-gradient-to-br from-gray-900/80 to-black/80 rounded-xl p-4 backdrop-blur-sm border border-gray-700/50 shadow-xl"},Se={class:"flex items-center justify-center space-x-4"},ze=["disabled"],Ae=["disabled"],Me={class:"w-14 h-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center shadow-xl shadow-purple-500/40 group-hover:from-purple-500 group-hover:to-pink-500 transition-all duration-300 group-hover:scale-105 group-hover:shadow-purple-400/50"},je={key:0,class:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"},De={key:1,class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20"},Be={key:2,class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20"},Ie={key:0,class:"p-6 bg-gradient-to-r from-blue-900/40 to-purple-900/40 border border-blue-400/30 rounded-2xl backdrop-blur-sm"},Re={class:"text-center"},Ee={class:"text-2xl font-bold bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent mb-2"},Ne={class:"text-blue-200 text-lg font-medium mb-1"},Le={class:"text-blue-300 font-medium"},Fe={class:"text-sm text-blue-400 mt-4"},Ue=["href"],Oe={key:0,class:"mt-6 p-6 bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-400/30 rounded-2xl backdrop-blur-sm"},Ve={class:"text-center"},Ye={class:"flex items-center justify-center mb-3"},Ge={class:"font-bold text-lg bg-gradient-to-r from-purple-300 to-pink-300 bg-clip-text text-transparent"},He={class:"text-purple-200 text-sm font-medium"},qe={class:"flex items-center justify-center mb-3"},Xe={key:0,class:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-full flex items-center justify-center mr-3 animate-bounce"},Ke={key:1,class:"w-12 h-12 bg-gradient-to-br from-red-500 to-pink-500 rounded-full flex items-center justify-center mr-3 animate-pulse"},Je={class:"font-bold text-2xl"},We={key:0,class:"text-lg mt-2 font-semibold"},Ze={class:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"},Qe=H({__name:"TrackPlayer",props:{track:{},showAnswer:{type:Boolean,default:!1},showResult:{type:Boolean,default:!1},isCorrect:{type:Boolean,default:!1},pointsEarned:{default:0}},emits:["placeTrack"],setup(I,{emit:j}){const l=I,{t:$}=Z(),u=h(!1),m=h(!1);h(!1);const S=h(0),D=h(0);h(.7),h(!1),h(!1),h(!1);const _=f(()=>{var v,s,o,t;const a=(s=(v=l.track.images)==null?void 0:v[0])==null?void 0:s.url,i=(t=(o=l.track.album.images)==null?void 0:o[0])==null?void 0:t.url;return a||i||"https://via.placeholder.com/300x300/6B7280/FFFFFF?text=No+Image"}),g=f(()=>l.track.artists.map(a=>a.name).join(", ")),B=f(()=>l.showResult?l.isCorrect?"bg-gradient-to-r from-cyan-900/40 to-blue-900/40 border border-cyan-400/30 text-cyan-100":"bg-gradient-to-r from-red-900/40 to-pink-900/40 border border-red-400/30 text-red-100":""),L=f(()=>l.showResult?l.isCorrect?$("game.turn.correct",{year:l.track.year}):$("game.turn.incorrect",{year:l.track.year}):"");f(()=>D.value===0?0:S.value/D.value*100);const w=f(()=>!!l.track.uri),P=f(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),k=f(()=>P.value?w.value&&y.isAuthenticated():w.value&&y.isPlayerReady()),z=f(()=>k.value||!!l.track.preview_url);async function A(){console.log("=== TOGGLE PLAYBACK DEBUG ==="),console.log("Current isPlaying state:",u.value),console.log("Can play full track:",k.value),console.log("Is mobile device:",P.value),console.log("Has Spotify URI:",w.value),console.log("Track URI:",l.track.uri);try{k.value&&l.track.uri?(P.value?console.log("üéµ Using Spotify Connect for mobile..."):console.log("üéµ Using Spotify Web Playback SDK for desktop..."),u.value?(console.log("‚è∏Ô∏è Pausing playback..."),await y.pausePlayback()&&(u.value=!1,console.log("‚úÖ Pause successful"))):(console.log("‚ñ∂Ô∏è Starting playback..."),await y.startPlayback(l.track.uri)?(u.value=!0,console.log("‚úÖ Play successful"),P.value?R():E()):console.error("‚ùå Play failed"))):console.log("‚ùå Cannot play full track - missing requirements")}catch(a){console.error("‚ùå Playback error:",a),P.value&&a.message.includes("No active Spotify device")&&alert("Please open the Spotify app on your device first, then try again.")}console.log("Final isPlaying state:",u.value),console.log("=== END TOGGLE PLAYBACK DEBUG ===")}function R(){const a=async()=>{var v,s;if(!k.value||!P.value)return;const i=await y.getSpotifyConnectState();if(i){const o=((v=i.item)==null?void 0:v.uri)===l.track.uri,t=i.is_playing&&o;console.log("Spotify Connect state check:",{is_playing:i.is_playing,currentTrackUri:(s=i.item)==null?void 0:s.uri,expectedUri:l.track.uri,isCurrentTrack:o,isActuallyPlaying:t,componentIsPlaying:u.value}),u.value!==t&&(console.log(`üîÑ Syncing Spotify Connect state: ${u.value} ‚Üí ${t}`),u.value=t),u.value&&setTimeout(a,2e3)}else u.value&&(console.log("No active Spotify Connect playback detected"),u.value=!1)};a()}function E(){const a=async()=>{if(!k.value)return;const i=await y.getPlaybackState();i&&(u.value=!i.paused,S.value=i.position/1e3,D.value=i.duration/1e3,u.value&&setTimeout(a,1e3))};a()}async function F(){var a,i,v,s;if(y.isPlayerReady())try{const o=await y.getPlaybackState();if(o){const t=((i=(a=o.track_window)==null?void 0:a.current_track)==null?void 0:i.uri)===l.track.uri,n=o.paused===!1&&t;console.log("Playback state check:",{paused:o.paused,currentTrackUri:(s=(v=o.track_window)==null?void 0:v.current_track)==null?void 0:s.uri,expectedUri:l.track.uri,isCurrentTrack:t,isActuallyPlaying:n,componentIsPlaying:u.value}),u.value!==n&&(console.log(`üîÑ Syncing playback state: ${u.value} ‚Üí ${n}`),u.value=n)}}catch(o){console.warn("Could not check playback state:",o)}}return V(()=>{const a=setInterval(F,2e3);O(()=>{clearInterval(a)})}),V(()=>{y.isAuthenticated()&&X(()=>{y.initializePlayerIfReady()})}),K(()=>l.track,async(a,i)=>{if(a&&a!==i){console.log("New track detected:",a.name),await X(),u.value=!1;const v=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);setTimeout(async()=>{if(console.log("Checking if auto-playback can start:",{canPlayAudio:z.value,canPlayFullTrack:k.value,hasSpotifyUri:w.value,isPlayerReady:y.isPlayerReady(),isPlaying:u.value}),z.value&&!u.value){console.log("Auto-starting playback for new track:",a.name);try{await A(),console.log("‚úÖ Auto-playback started successfully")}catch(s){v?console.log("üîá Auto-playback blocked on mobile - user interaction required"):console.error("‚ùå Auto-playback failed:",s)}}else{const s=z.value?"Already playing":"No audio source available";console.log(`Cannot auto-start playback: ${s}`),!v&&w.value&&console.log("Has Spotify URI - playback will use Spotify Web Playback SDK")}},300)}},{immediate:!1}),O(()=>{k.value&&y.stopPlayback()}),(a,i)=>(c(),d("div",se,[i[12]||(i[12]=e("div",{class:"absolute inset-0 opacity-10"},[e("div",{class:"absolute top-0 left-0 w-72 h-72 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full blur-3xl animate-pulse delay-1000"})],-1)),e("div",re,[e("div",ae,[a.showAnswer?(c(),d("div",le,[e("img",{src:_.value,alt:a.track.name,class:"w-40 h-40 rounded-2xl shadow-2xl object-cover border border-gray-700/50 backdrop-blur-sm transform group-hover:scale-105 transition-transform duration-300"},null,8,ie),i[2]||(i[2]=e("div",{class:"absolute inset-0 w-40 h-40 rounded-2xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 blur-xl group-hover:blur-2xl transition-all duration-300"},null,-1))])):(c(),d("div",ne,i[1]||(i[1]=[J('<div class="w-40 h-40 rounded-2xl shadow-2xl bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center border border-gray-700/50 backdrop-blur-sm" data-v-00d2862f><div class="w-32 h-32 rounded-full bg-gradient-to-br from-gray-900 to-black shadow-inner flex items-center justify-center" data-v-00d2862f><div class="w-20 h-20 rounded-full bg-gradient-to-br from-gray-800 to-gray-900 shadow-inner flex items-center justify-center" data-v-00d2862f><svg class="w-12 h-12 text-gray-400 animate-spin-slow" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-00d2862f><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" data-v-00d2862f></path></svg></div></div></div><div class="absolute inset-0 w-40 h-40 rounded-2xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 blur-xl group-hover:blur-2xl transition-all duration-300" data-v-00d2862f></div>',2)])))]),e("div",ce,[e("div",de,[e("p",ue,r(a.$t("game.turn.listening")),1),e("p",ge,r(a.$t("game.turn.placeOnTimeline")),1)]),e("div",pe,[!z.value&&P.value&&w.value?(c(),d("div",me,[e("div",ve,[i[3]||(i[3]=e("div",{class:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mr-2 shadow-lg"},[e("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})])],-1)),e("h3",fe,r(a.$t("game.spotifyConnect.title","Spotify Connect")),1)]),e("p",he,r(a.$t("game.spotifyConnect.description","Music will play through your Spotify app")),1),e("div",be,[e("p",ye," üì± "+r(a.$t("game.spotifyConnect.instructions","Make sure your Spotify app is open on this device")),1),e("p",ke,r(a.$t("game.spotifyConnect.note","Audio will play through your device speakers or headphones")),1)])])):k.value?p("",!0):(c(),d("div",xe,[e("div",we,[i[4]||(i[4]=e("div",{class:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-2 shadow-lg"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})])],-1)),e("h3",$e,r(w.value?a.$t("game.premiumRequired"):a.$t("game.demoMode")),1)]),e("p",_e,r(w.value?a.$t("game.needsPremium"):a.$t("game.needSpotifyForAudio")),1),e("p",Pe,[e("strong",null,r(w.value?a.$t("game.premiumNeededForFullPlay"):a.$t("game.needSpotifyForAudio")),1)]),e("p",Ce,r(a.$t("game.demoModeInstructions")),1)])),z.value?(c(),d("div",Te,[e("div",Se,[e("button",{onClick:i[0]||(i[0]=(...v)=>a.restartTrack&&a.restartTrack(...v)),class:"control-btn group relative",disabled:!z.value,title:"Restart"},i[5]||(i[5]=[e("div",{class:"w-10 h-10 bg-gradient-to-br from-gray-800 to-gray-900 rounded-full flex items-center justify-center border border-gray-600/50 shadow-lg group-hover:from-purple-600 group-hover:to-pink-600 group-hover:border-purple-400/50 transition-all duration-300 group-hover:scale-105"},[e("svg",{class:"w-4 h-4 text-gray-300 group-hover:text-white transition-colors duration-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})])],-1)]),8,ze),e("button",{onClick:A,class:"play-btn group relative",disabled:!z.value},[e("div",Me,[m.value?(c(),d("div",je)):u.value?(c(),d("svg",De,i[6]||(i[6]=[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))):(c(),d("svg",Be,i[7]||(i[7]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"},null,-1)])))])],8,Ae)])])):p("",!0)]),a.showAnswer?(c(),d("div",Ie,[e("div",Re,[e("h4",Ee,r(a.track.name),1),e("p",Ne,r(g.value),1),e("p",Le,r(a.track.album.name)+" ("+r(a.track.year)+")",1),e("p",Fe,[e("a",{href:a.track.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-full hover:from-green-500 hover:to-green-400 transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-green-500/25"},[i[8]||(i[8]=e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})],-1)),W(" "+r(a.$t("game.openInSpotify")),1)],8,Ue)])])])):p("",!0)])]),a.showAnswer?p("",!0):(c(),d("div",Oe,[e("div",Ve,[e("div",Ye,[i[9]||(i[9]=e("div",{class:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-3 animate-pulse"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",Ge,r(a.$t("game.turn.placing")),1)]),e("p",He,r(a.$t("game.dragToTimeline")),1)])])),a.showResult?(c(),d("div",{key:1,class:M(["mt-6 p-6 rounded-2xl text-center backdrop-blur-sm",B.value])},[e("div",qe,[a.isCorrect?(c(),d("div",Xe,i[10]||(i[10]=[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):(c(),d("div",Ke,i[11]||(i[11]=[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))),e("p",Je,r(L.value),1)]),a.pointsEarned>0?(c(),d("p",We,[e("span",Ze,r(a.$t("game.turn.points",{points:a.pointsEarned})),1)])):p("",!0)],2)):p("",!0)]))}}),et=(I,j)=>{const l=I.__vccOpts||I;for(const[$,u]of j)l[$]=u;return l},tt=et(Qe,[["__scopeId","data-v-00d2862f"]]),ot={key:0,class:"absolute inset-0 opacity-10"},st={class:"relative z-10"},rt={class:"flex items-center justify-between mb-6"},at={class:"text-xl font-bold flex items-center space-x-3"},nt={key:0,class:"text-2xl animate-bounce"},lt={class:"text-right"},it={class:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"},ct={class:"flex items-center space-x-2 text-sm text-gray-300"},dt={class:"font-medium"},ut={key:0,class:"mb-6"},gt={class:"text-sm font-medium text-gray-300 mb-3"},pt={class:"flex space-x-3"},mt=["title"],vt={class:"flex items-center space-x-2"},ft=["title"],ht={class:"flex items-center space-x-2"},bt={class:"mb-6"},yt={class:"text-lg font-semibold text-gray-200 mb-4 flex items-center"},kt={key:0,class:"text-center py-12 text-gray-400"},xt={class:"text-lg font-medium mb-2"},wt={class:"p-8 border-2 border-dashed border-gray-500 rounded-2xl group-hover:border-purple-400 transition-colors duration-300 bg-gradient-to-br from-gray-800/30 to-gray-900/30 backdrop-blur-sm"},$t={class:"text-center text-gray-300 font-medium"},_t={key:1,class:"space-y-3"},Pt={class:"h-full border-2 border-dashed border-gray-600 rounded-xl group-hover:border-cyan-400 transition-colors duration-300 bg-gradient-to-r from-gray-800/20 to-gray-700/20 backdrop-blur-sm flex items-center justify-center"},Ct={class:"text-center text-gray-400 text-sm font-medium"},Tt={class:"p-4 bg-gradient-to-r from-gray-800/60 to-gray-900/60 backdrop-blur-sm border border-gray-600/30 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]"},St={class:"flex items-center space-x-4"},zt={class:"w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 relative group-hover:scale-105 transition-transform duration-300"},At=["src","alt"],Mt={key:1,class:"w-16 h-16 bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center"},jt={class:"flex-1 min-w-0"},Dt={class:"font-bold text-lg text-gray-100 truncate"},Bt={class:"text-sm text-gray-300 truncate font-medium"},It={class:"text-right flex-shrink-0"},Rt={class:"font-bold text-2xl bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent"},Et=["onDragover","onDragleave","onDrop","data-drop-zone"],Nt={class:"h-full border-2 border-dashed border-gray-600 rounded-xl group-hover:border-purple-400 transition-colors duration-300 bg-gradient-to-r from-gray-800/20 to-gray-700/20 backdrop-blur-sm flex items-center justify-center"},Lt={class:"text-center text-gray-400 text-sm font-medium"},Ft=["data-drop-zone"],Ut={class:"h-full border-2 border-dashed border-gray-600 rounded-xl group-hover:border-cyan-400 transition-colors duration-300 bg-gradient-to-r from-gray-800/20 to-gray-700/20 backdrop-blur-sm flex items-center justify-center"},Ot={class:"text-center text-gray-400 text-sm font-medium"},Vt={class:"flex items-center space-x-4"},Yt={class:"flex-1 min-w-0"},Gt={class:"font-bold text-lg text-blue-200"},Ht={class:"text-sm text-blue-300 font-medium"},qt={key:2,class:"mt-6 pt-6 border-t border-gray-600/30"},Xt={class:"flex justify-between text-sm text-gray-300"},Kt={class:"font-medium"},Jt={key:0,class:"font-mono"},Wt=H({__name:"PlayerTimeline",props:{player:{},isCurrent:{type:Boolean},currentTrack:{},canPlace:{type:Boolean}},emits:["placeTrack","useToken"],setup(I,{emit:j}){const l=I,$=j,u=h(!1),m=h([]),S=h(!1),D=h({x:0,y:0}),_=h({x:0,y:0}),g=h(null),B=f(()=>{if(l.player.timeline.length<2)return null;const s=l.player.timeline.map(o=>o.year).sort((o,t)=>o-t);return`${s[0]} - ${s[s.length-1]}`});function L(s){var o,t,n,b,C;return((t=(o=s.images)==null?void 0:o[0])==null?void 0:t.url)||((C=(b=(n=s.album)==null?void 0:n.images)==null?void 0:b[0])==null?void 0:C.url)||"/placeholder-album.png"}function w(s){const o=s.target;o.src="/placeholder-album.png"}function P(s){return s.artists.map(o=>o.name).join(", ")}function k(s){var t;if(!l.currentTrack)return;(t=s.dataTransfer)==null||t.setData("text/plain",JSON.stringify(l.currentTrack)),s.target.classList.add("dragging")}function z(s){s.target.classList.remove("dragging"),u.value=!1,m.value=[]}function A(s){!l.currentTrack||!l.canPlace||(u.value=!1,m.value=[],$("placeTrack",l.currentTrack,s))}function R(s){$("useToken",s)}function E(s){if(!(!l.currentTrack||!l.canPlace))try{s.preventDefault(),S.value=!0;const o=s.touches[0];if(!o)return;D.value={x:o.clientX,y:o.clientY},_.value={x:o.clientX,y:o.clientY};const t=s.target,n=t.getBoundingClientRect();g.value=t.cloneNode(!0),g.value.style.position="fixed",g.value.style.top=`${n.top}px`,g.value.style.left=`${n.left}px`,g.value.style.width=`${n.width}px`,g.value.style.height=`${n.height}px`,g.value.style.zIndex="9999",g.value.style.opacity="0.8",g.value.style.transform="rotate(2deg)",g.value.style.pointerEvents="none",g.value.classList.add("dragging"),document.body.appendChild(g.value),t.classList.add("dragging"),"vibrate"in navigator&&navigator.vibrate(50)}catch(o){console.warn("Touch start error:",o),v()}}function F(s){if(!(!S.value||!g.value))try{s.preventDefault();const o=s.touches[0];if(!o)return;_.value={x:o.clientX,y:o.clientY};const t=50,n=50;g.value.style.left=`${o.clientX-t}px`,g.value.style.top=`${o.clientY-n}px`;const b=document.elementFromPoint(o.clientX,o.clientY),C=b==null?void 0:b.closest("[data-drop-zone]");if(u.value=!1,m.value.fill(!1),C){const N=parseInt(C.getAttribute("data-drop-zone")||"0");N===0?u.value=!0:N<=m.value.length&&(m.value[N]=!0)}}catch(o){console.warn("Touch move error:",o)}}function a(s){if(S.value)try{s.preventDefault(),S.value=!1;const o=s.changedTouches[0];if(!o){v();return}const t=document.elementFromPoint(o.clientX,o.clientY),n=t==null?void 0:t.closest("[data-drop-zone]");g.value&&(g.value.style.transition="opacity 0.2s ease-out",g.value.style.opacity="0",setTimeout(()=>{g.value&&document.body.contains(g.value)&&document.body.removeChild(g.value),g.value=null},200));const b=document.querySelector(".dragging");if(b&&b.classList.remove("dragging"),u.value=!1,m.value.fill(!1),n&&l.currentTrack){const C=parseInt(n.getAttribute("data-drop-zone")||"0");"vibrate"in navigator&&navigator.vibrate(100),$("placeTrack",l.currentTrack,C)}}catch(o){console.warn("Touch end error:",o),v()}}function i(){m.value=new Array(l.player.timeline.length+1).fill(!1)}function v(){S.value=!1,u.value=!1,m.value.fill(!1),g.value&&document.body.contains(g.value)&&(document.body.removeChild(g.value),g.value=null),document.querySelectorAll(".dragging").forEach(o=>o.classList.remove("dragging"))}return O(()=>{v()}),K(()=>l.player.timeline.length,()=>{i()},{immediate:!0}),(s,o)=>(c(),d("div",{class:M(["card relative overflow-hidden",{"ring-2 ring-cyan-400 shadow-2xl shadow-cyan-400/20":s.isCurrent}])},[s.isCurrent?(c(),d("div",ot,o[11]||(o[11]=[e("div",{class:"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full blur-3xl animate-pulse"},null,-1),e("div",{class:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full blur-3xl animate-pulse delay-1000"},null,-1)]))):p("",!0),e("div",st,[e("div",rt,[e("h3",at,[e("span",{class:M(s.isCurrent?"bg-gradient-to-r from-cyan-300 to-blue-300 bg-clip-text text-transparent":"text-gray-200")},r(s.player.name),3),s.isCurrent?(c(),d("span",nt,"üëë")):p("",!0)]),e("div",lt,[e("p",it,r(s.player.score),1),e("div",ct,[o[12]||(o[12]=e("span",{class:"text-lg"},"üéµ",-1)),e("span",dt,r(s.$t("game.score.tokens",{count:s.player.tokens})),1)])])]),s.isCurrent&&s.canPlace&&s.player.tokens>0?(c(),d("div",ut,[e("h4",gt,r(s.$t("game.tokenAbilities")),1),e("div",pt,[e("button",{onClick:o[0]||(o[0]=t=>R("skip")),class:"group relative px-4 py-2 bg-gradient-to-r from-orange-600 to-pink-600 hover:from-orange-500 hover:to-pink-500 text-white rounded-xl font-medium transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-orange-500/25",title:s.$t("game.tokens.skip.description")},[e("div",vt,[o[13]||(o[13]=e("span",{class:"text-lg"},"‚è≠Ô∏è",-1)),e("span",null,r(s.$t("game.tokens.skip.label")),1)])],8,mt),e("button",{onClick:o[1]||(o[1]=t=>R("hint")),class:"group relative px-4 py-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white rounded-xl font-medium transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-cyan-500/25",title:s.$t("game.tokens.hint.description")},[e("div",ht,[o[14]||(o[14]=e("span",{class:"text-lg"},"üí°",-1)),e("span",null,r(s.$t("game.tokens.hint.label")),1)])],8,ft)])])):p("",!0),e("div",bt,[e("h4",yt,[o[15]||(o[15]=e("span",{class:"mr-2"},"üéµ",-1)),W(" "+r(s.$t("game.timeline.title")),1)]),s.player.timeline.length===0?(c(),d("div",kt,[o[16]||(o[16]=e("div",{class:"mb-4"},[e("div",{class:"w-20 h-20 mx-auto bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center shadow-lg"},[e("span",{class:"text-3xl"},"üéº")])],-1)),e("p",xt,r(s.$t("game.timeline.empty")),1),s.canPlace?(c(),d("div",{key:0,class:M(["timeline-slot mt-6 group",{"drag-over":u.value}]),onDragover:o[2]||(o[2]=T(t=>u.value=!0,["prevent"])),onDragleave:o[3]||(o[3]=T(t=>u.value=!1,["prevent"])),onDrop:o[4]||(o[4]=T(t=>A(0),["prevent"])),"data-drop-zone":0},[e("div",wt,[e("p",$t,r(s.$t("game.timeline.placeHere")),1)])],34)):p("",!0)])):(c(),d("div",_t,[s.canPlace?(c(),d("div",{key:0,class:M(["timeline-slot h-20 group",{"drag-over":m.value[0]}]),onDragover:o[5]||(o[5]=T(t=>m.value[0]=!0,["prevent"])),onDragleave:o[6]||(o[6]=T(t=>m.value[0]=!1,["prevent"])),onDrop:o[7]||(o[7]=T(t=>A(0),["prevent"])),"data-drop-zone":0},[e("div",Pt,[e("p",Ct,r(s.$t("game.placeEarlier")),1)])],34)):p("",!0),(c(!0),d(Y,null,G(s.player.timeline,(t,n)=>(c(),d("div",{key:t.id,class:"track-card group relative"},[e("div",Tt,[e("div",St,[e("div",zt,[t.revealed?(c(),d("img",{key:0,src:L(t),alt:t.name,class:"w-16 h-16 object-cover",onError:w},null,40,At)):(c(),d("div",Mt,o[17]||(o[17]=[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1)])))]),e("div",jt,[e("p",Dt,r(t.name),1),e("p",Bt,r(P(t)),1)]),e("div",It,[e("p",Rt,r(t.year),1)])])]),s.canPlace&&n<s.player.timeline.length-1?(c(),d("div",{key:0,class:M(["timeline-slot h-20 mt-3 group",{"drag-over":m.value[n+1]}]),onDragover:T(b=>m.value[n+1]=!0,["prevent"]),onDragleave:T(b=>m.value[n+1]=!1,["prevent"]),onDrop:T(b=>A(n+1),["prevent"]),"data-drop-zone":n+1},[e("div",Nt,[e("p",Lt,r(s.$t("game.placeBetween")),1)])],42,Et)):p("",!0)]))),128)),s.canPlace?(c(),d("div",{key:1,class:M(["timeline-slot h-20 group",{"drag-over":m.value[s.player.timeline.length]}]),onDragover:o[8]||(o[8]=T(t=>m.value[s.player.timeline.length]=!0,["prevent"])),onDragleave:o[9]||(o[9]=T(t=>m.value[s.player.timeline.length]=!1,["prevent"])),onDrop:o[10]||(o[10]=T(t=>A(s.player.timeline.length),["prevent"])),"data-drop-zone":s.player.timeline.length},[e("div",Ut,[e("p",Ot,r(s.$t("game.placeLater")),1)])],42,Ft)):p("",!0)]))]),s.canPlace&&s.currentTrack?(c(),d("div",{key:1,class:"p-6 bg-gradient-to-r from-blue-900/50 to-purple-900/50 border-2 border-blue-400/30 rounded-2xl cursor-move touch-manipulation select-none backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",draggable:"true",onDragstart:k,onDragend:z,onTouchstart:E,onTouchmove:F,onTouchend:a,style:{touchAction:"none"}},[e("div",Vt,[o[18]||(o[18]=e("div",{class:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})])],-1)),e("div",Yt,[e("p",Gt,r(s.$t("game.newTrack")),1),e("p",Ht,r(s.$t("game.dragToPlace")),1)]),o[19]||(o[19]=e("div",{class:"text-blue-300"},[e("span",{class:"text-3xl animate-pulse"},"üéµ")],-1))])],32)):p("",!0),s.player.timeline.length>0?(c(),d("div",qt,[e("div",Xt,[e("span",Kt,r(s.$t("game.tracksInTimeline",{count:s.player.timeline.length})),1),B.value?(c(),d("span",Jt,r(B.value),1)):p("",!0)])])):p("",!0)])],2))}}),Zt={class:"min-h-screen flex flex-col"},Qt={class:"bg-white/10 backdrop-blur-sm p-4"},eo={class:"flex justify-between items-center"},to={class:"flex items-center space-x-4"},oo={class:"text-white"},so={class:"text-xl font-bold"},ro={class:"flex items-center space-x-3 text-sm opacity-80"},ao={key:0,class:"px-2 py-1 bg-purple-500/30 rounded-full border border-purple-400/50"},no={class:"text-white text-right"},lo={class:"text-sm opacity-80"},io={class:"flex-1 container mx-auto px-4 py-6"},co={key:0,class:"max-w-2xl mx-auto"},uo={class:"card text-center"},go={class:"text-2xl font-semibold mb-4"},po={class:"text-gray-600 mb-6"},mo={key:1,class:"space-y-6"},vo={class:"card text-center bg-green-50 border-green-200"},fo={class:"text-2xl font-bold text-white mb-2"},ho={class:"text-white"},bo={key:0,class:"mt-4"},yo={key:1,class:"mt-4"},ko={class:"flex items-center justify-center space-x-2"},xo={key:0,class:"card bg-yellow-50 border-yellow-200"},wo={class:"flex items-center space-x-3"},$o={class:"flex-1"},_o={class:"text-lg font-semibold text-yellow-800"},Po={class:"text-yellow-700 text-sm"},Co={class:"flex space-x-2"},To={key:1,class:"card bg-orange-50 border-orange-200"},So={key:3,class:"max-w-4xl mx-auto"},zo={class:"card"},Ao={class:"text-lg font-semibold mb-4"},Mo={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},jo={class:"font-semibold"},Do={class:"text-2xl font-bold text-white"},Bo={class:"text-sm text-gray-600"},Io={class:"text-xs text-gray-500"},Ro={key:2,class:"max-w-2xl mx-auto"},Eo={class:"card text-center"},No={class:"text-3xl font-bold mb-4 text-white"},Lo={class:"text-xl mb-6"},Fo={class:"mb-6"},Uo={class:"text-lg font-semibold mb-3"},Oo={class:"space-y-2"},Vo={class:"font-medium"},Yo={class:"font-bold"},Go={class:"flex space-x-4 justify-center"},Ho={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},qo={class:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border border-purple-500/20 shadow-2xl shadow-purple-500/10 rounded-2xl p-8 max-w-md w-full mx-auto relative overflow-hidden"},Xo={class:"relative z-10"},Ko={class:"flex items-center space-x-3 mb-6"},Jo={class:"text-2xl font-bold bg-gradient-to-r from-cyan-300 to-blue-300 bg-clip-text text-transparent"},Wo={class:"mb-8"},Zo={class:"text-gray-200 text-lg leading-relaxed"},Qo={class:"flex justify-center"},ts=H({__name:"GameView",setup(I){const j=ee(),l=Q(),$=h(!1),u=h(!1),m=h(""),S=h(y.isAuthenticated()),D=f(()=>l.players),_=f(()=>l.currentPlayer),g=f(()=>l.currentTrack),B=f(()=>l.gamePhase),L=f(()=>l.round),w=f(()=>l.settings),P=f(()=>l.winner),k=f(()=>S.value),z=f(()=>k.value&&!y.isPlayerReady()),A=f(()=>[...D.value].sort((t,n)=>n.timeline.length!==t.timeline.length?n.timeline.length-t.timeline.length:n.tokens!==t.tokens?n.tokens-t.tokens:n.score-t.score));async function R(){var t;$.value=!0;try{console.log("Loading next track...");const n=await l.getNextTrack();n?console.log("Track loaded successfully:",n.name,"by",(t=n.artists[0])==null?void 0:t.name):console.error("No tracks available")}catch(n){console.error("Error loading track:",n)}finally{$.value=!1}}function E(t,n){l.placeTrackOnTimeline(t,n),setTimeout(()=>{l.nextPlayer()},2e3)}function F(t){var b;if(!_.value)return;if(l.useToken(_.value.id,t))switch(t){case"skip":R();break;case"hint":const C=Math.floor(((b=g.value)==null?void 0:b.year)/10)*10;m.value=`This track was released in the ${C}s`,u.value=!0;break}}function a(){u.value=!1,m.value=""}function i(){l.resetGame(),j.push("/")}function v(){j.push("/")}function s(){const t=y.isAuthenticated(),n=localStorage.getItem("spotify_auth");console.log("Spotify auth check:",{isAuthenticated:t,authStateInStorage:n?JSON.parse(n):null,isSpotifyConnected:k.value}),S.value=t,t&&y.initializePlayerIfReady()}async function o(){console.log("üîÑ Re-authorizing Spotify with updated permissions"),await y.forceReauth(),s()}return V(()=>{l.gamePhase==="setup"&&l.players.length===0&&j.push("/"),s();const t=setInterval(()=>{s()},3e4);O(()=>{clearInterval(t)})}),(t,n)=>{var b,C,N,q;return c(),d("div",Zt,[e("header",Qt,[e("div",eo,[e("div",to,[e("button",{onClick:n[0]||(n[0]=x=>t.$router.push("/")),class:"btn btn-secondary"}," ‚Üê "+r(t.$t("common.back")),1),e("div",oo,[e("h1",so,r(t.$t("game.title")),1),e("div",ro,[e("span",null,r(t.$t("game.round"))+" "+r(L.value),1),w.value.theme?(c(),d("span",ao," üéµ "+r(t.$t(`game.themes.${w.value.theme}`)),1)):p("",!0)])])]),e("div",no,[e("p",lo,r(t.$t("game.turn.currentPlayer",{player:(b=_.value)==null?void 0:b.name})),1)])])]),e("main",io,[B.value==="setup"?(c(),d("div",co,[e("div",uo,[e("h2",go,r(t.$t("game.setupRequired")),1),e("p",po,r(t.$t("game.setupMessage")),1),e("button",{onClick:n[1]||(n[1]=x=>t.$router.push("/")),class:"btn btn-primary"},r(t.$t("game.backToSetup")),1)])])):B.value==="playing"?(c(),d("div",mo,[e("div",vo,[e("h2",fo,r(t.$t("game.turn.currentPlayer",{player:(C=_.value)==null?void 0:C.name})),1),e("p",ho,r(t.$t("game.turn.ready")),1),!g.value&&!$.value?(c(),d("div",bo,[e("button",{onClick:R,class:"btn btn-primary btn-lg"}," üéµ "+r(t.$t("game.getTrack")),1)])):p("",!0),$.value?(c(),d("div",yo,[e("div",ko,[n[3]||(n[3]=e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-500"},null,-1)),e("span",null,r(t.$t("common.loading")),1)])])):p("",!0)]),k.value?k.value&&z.value?(c(),d("div",To,[e("div",{class:"flex items-center space-x-3"},[n[5]||(n[5]=J('<div class="flex-shrink-0"><svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"></path></svg></div><div class="flex-1"><h3 class="text-lg font-semibold text-orange-800">Playback Permissions Needed</h3><p class="text-orange-700 text-sm">Your Spotify connection needs updated permissions to play music.</p></div>',2)),e("div",{class:"flex space-x-2"},[e("button",{onClick:o,class:"btn btn-sm bg-orange-600 hover:bg-orange-700 text-white"}," üîê Update Permissions ")])])])):p("",!0):(c(),d("div",xo,[e("div",wo,[n[4]||(n[4]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 18.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",$o,[e("h3",_o,r(t.$t("game.spotify.notConnected")),1),e("p",Po,r(t.$t("game.demoModeActive")),1)]),e("div",Co,[e("button",{onClick:v,class:"btn btn-sm bg-yellow-600 hover:bg-yellow-700 text-white"},r(t.$t("game.spotify.login")),1),e("button",{onClick:o,class:"btn btn-sm bg-purple-600 hover:bg-purple-700 text-white"}," üîê Re-auth "),e("button",{onClick:s,class:"btn btn-sm bg-blue-600 hover:bg-blue-700 text-white"}," üîÑ Refresh ")])])])),g.value?(c(),te(tt,{key:2,track:g.value,onPlaceTrack:E},null,8,["track"])):p("",!0),_.value?(c(),d("div",So,[oe(Wt,{player:_.value,"is-current":!0,"current-track":g.value,"can-place":!!g.value,onPlaceTrack:E,onUseToken:F},null,8,["player","current-track","can-place"])])):p("",!0),e("div",zo,[e("h3",Ao,r(t.$t("game.score.title")),1),e("div",Mo,[(c(!0),d(Y,null,G(D.value,x=>{var U;return c(),d("div",{key:x.id,class:M(["text-center p-3 rounded-lg",x.id===((U=_.value)==null?void 0:U.id)?"bg-green-100":"bg-gray-50"])},[e("p",jo,r(x.name),1),e("p",Do,r(x.tokens),1),e("p",Bo,r(t.$t("game.score.tokens",{count:x.tokens})),1),e("p",Io,r(t.$t("game.score.total",{score:x.score})),1)],2)}),128))])])])):B.value==="finished"?(c(),d("div",Ro,[e("div",Eo,[e("h2",No,r(t.$t("game.end.title")),1),e("p",Lo,r(t.$t("game.end.winner",{player:(N=P.value)==null?void 0:N.name,score:(q=P.value)==null?void 0:q.timeline.length})),1),e("div",Fo,[e("h3",Uo,r(t.$t("game.end.finalScores")),1),e("div",Oo,[(c(!0),d(Y,null,G(A.value,(x,U)=>(c(),d("div",{key:x.id,class:M(["flex justify-between items-center p-3 rounded-lg",U===0?"bg-yellow-100":"bg-gray-50"])},[e("span",Vo,r(U+1)+". "+r(x.name),1),e("span",Yo,r(x.timeline.length)+" "+r(t.$t("game.songs"))+" | "+r(x.tokens)+" "+r(t.$t("game.score.tokens",{count:x.tokens})),1)],2))),128))])]),e("div",Go,[e("button",{onClick:i,class:"btn btn-primary"}," üîÑ "+r(t.$t("game.end.playAgain")),1),e("button",{onClick:n[2]||(n[2]=x=>t.$router.push("/")),class:"btn btn-secondary"}," üè† "+r(t.$t("game.backToHome")),1)])])])):p("",!0)]),u.value?(c(),d("div",Ho,[e("div",qo,[n[7]||(n[7]=e("div",{class:"absolute inset-0 opacity-10"},[e("div",{class:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full blur-3xl animate-pulse delay-1000"})],-1)),e("div",Xo,[e("div",Ko,[n[6]||(n[6]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg"},[e("span",{class:"text-2xl"},"üí°")],-1)),e("h3",Jo,r(t.$t("game.tokens.hint.label")),1)]),e("div",Wo,[e("p",Zo,r(m.value),1)]),e("div",Qo,[e("button",{onClick:a,class:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold rounded-xl transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-purple-500/25"},r(t.$t("common.close")),1)])])])])):p("",!0)])}}});export{ts as default};
